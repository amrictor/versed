{"version":3,"sources":["resources/seedrandom.js","resources/latinise_compact.js","components/Timer.js","resources/genius_token.js","components/Song.js","components/Sidebar.js","components/Search.js","components/Playlist.js","components/Artist.js","components/Home.js","components/Game.js","components/GoogleAnalytics.js","App.js","serviceWorker.js","index.js"],"names":["global","pool","math","width","chunks","digits","module","define","rngname","nodecrypto","startdenom","pow","significance","overflow","mask","impl","seed","options","callback","key","shortseed","mixkey","flatten","entropy","tostring","randomBytes","crypto","getRandomValues","Uint8Array","e","Date","navigator","plugins","screen","autoseed","arc4","ARC4","S","pass","prng","is_math_call","n","g","d","x","this","t","keylen","length","me","i","j","s","count","r","obj","depth","prop","result","typ","push","smear","stringseed","charCodeAt","a","String","fromCharCode","apply","exports","require","ex","amd","Math","undefined","latin_map","prototype","latinise","replace","latinize","isLatin","Timer","props","passTime","playing","forfeit_status","gameWon","setState","time","state","interval","setInterval","clearInterval","number","slice","id","className","padNumber","floor","onClick","onPause","onPlay","Component","token","Song","togglePlaying","pause_text","discoveredWords","playOnLoad","getLyrics","bind","setSong","discover","forfeit","checkWord","lyricDiscovered","getSong","prevProps","prevState","match","params","genius_id","song","request","XMLHttpRequest","open","onreadystatechange","readyState","status","getResponseHeader","indexOf","JSON","parse","responseText","response","send","url","$","cheerio","load","replaceAll","title","album","name","primary_artist","text","trim","split","filter","word","index","temp","lyric","toLowerCase","map","w","wordsEquivalent","includes","event","target","value","lyrics","forEach","stringify","Input","type","disabled","onChange","artist","style","rel","href","Sidebar","expanded","toggle","children","Search","search","results","updateInput","getSearchResults","listenForEnter","hits","hit","lyrics_path","path","song_path","api_path","image","song_art_image_url","endpoint","console","log","getGenius","encodeURI","keyCode","placeholder","onKeyDown","src","alt","getArtist","songInPlaylist","addSong","Playlist","history","saveToFile","loadFile","clearPlaylist","updateTitle","loadRandomSong","getRandomSong","playlist","resetRandom","seedrandom","reader","FileReader","onload","fileContent","updatePlaylist","contents","readAsText","files","source","filename","contentType","window","msSaveOrOpenBlob","blob","Blob","decodeURIComponent","document","createElement","download","encodeURIComponent","body","appendChild","click","removeChild","location","pathname","random","getElementById","removeSong","Artist","songs","page","loading","getSongs","cleanUp","getArtistSongs","nextPage","next_page","stopPropagation","setPage","Home","about","faq","settings","FormControlLabel","control","Switch","checked","evt","updateSettings","color","label","getBody","Game","newSettings","setCookie","checkCookie","exdays","setTime","getTime","expires","toUTCString","cookie","cname","ca","c","charAt","substring","playlist_str","getCookie","settings_str","authorizeSpotify","setRequestHeader","grant_type","splice","reload","exact","render","withRouter","GoogleAnalytics","gtag","React","App","Boolean","hostname","ReactDOM","serviceWorker","ready","then","registration","unregister"],"mappings":"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ACL,SAAK,IACL,SAAK,IACL,OAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,OAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,OAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,OAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,OAAK,IACL,SAAK,KACL,OAAK,KACL,SAAK,KACL,SAAK,KACL,SAAK,KACL,SAAK,KACL,SAAK,KACL,SAAK,KACL,SAAK,KACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,OAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,KACL,SAAK,KACL,OAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,OAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,OAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,OAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,KACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,OAAK,IACL,SAAK,IACL,SAAK,IACL,OAAK,IACL,OAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,OAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,KACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,KACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,OAAK,IACL,SAAK,KACL,OAAK,IACL,SAAK,IACL,SAAK,IACL,OAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,OAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,OAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,OAAK,IACL,SAAK,IACL,OAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,KACL,SAAK,KACL,SAAK,IACL,SAAK,IACL,SAAK,KACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,KACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,KACL,OAAK,IACL,SAAK,IACL,SAAK,IACL,OAAK,IACL,SAAK,IACL,OAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,OAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,KACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,OAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,KACL,SAAK,KACL,SAAK,IACL,SAAK,KACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,KACL,SAAK,IACL,SAAK,KACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,OAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,OAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,OAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,OAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,OAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,OAAK,IACL,SAAK,KACL,OAAK,KACL,SAAK,KACL,SAAK,KACL,SAAK,KACL,SAAK,KACL,SAAK,KACL,SAAK,KACL,SAAK,KACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,OAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,KACL,SAAK,KACL,OAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,OAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,OAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,OAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,KACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,KACL,OAAK,IACL,SAAK,IACL,SAAK,IACL,OAAK,IACL,OAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,OAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,KACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,KACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,OAAK,IACL,SAAK,KACL,OAAK,IACL,SAAK,IACL,SAAK,IACL,OAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,OAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,OAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,OAAK,IACL,SAAK,IACL,OAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,KACL,SAAK,KACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,KACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,OAAK,KACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,KACL,SAAK,IACL,SAAK,KACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,KACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,I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","file":"static/js/main.7c001d8c.chunk.js","sourcesContent":["/**\r\n\r\nseedrandom.js\r\n=============\r\n\r\nSeeded random number generator for Javascript.\r\n\r\nversion 2.3.10\r\nAuthor: David Bau\r\nDate: 2014 Sep 20\r\n\r\nCan be used as a plain script, a node.js module or an AMD module.\r\n\r\nScript tag usage\r\n----------------\r\n\r\n<script src=//cdnjs.cloudflare.com/ajax/libs/seedrandom/2.3.10/seedrandom.min.js>\r\n</script>\r\n\r\n// Sets Math.random to a PRNG initialized using the given explicit seed.\r\nMath.seedrandom('hello.');\r\nconsole.log(Math.random());          // Always 0.9282578795792454\r\nconsole.log(Math.random());          // Always 0.3752569768646784\r\n\r\n// Sets Math.random to an ARC4-based PRNG that is autoseeded using the\r\n// current time, dom state, and other accumulated local entropy.\r\n// The generated seed string is returned.\r\nMath.seedrandom();\r\nconsole.log(Math.random());          // Reasonably unpredictable.\r\n\r\n// Seeds using the given explicit seed mixed with accumulated entropy.\r\nMath.seedrandom('added entropy.', { entropy: true });\r\nconsole.log(Math.random());          // As unpredictable as added entropy.\r\n\r\n// Use \"new\" to create a local prng without altering Math.random.\r\nvar myrng = new Math.seedrandom('hello.');\r\nconsole.log(myrng());                // Always 0.9282578795792454\r\n\r\n\r\nNode.js usage\r\n-------------\r\n\r\nnpm install seedrandom\r\n\r\n// Local PRNG: does not affect Math.random.\r\nvar seedrandom = require('seedrandom');\r\nvar rng = seedrandom('hello.');\r\nconsole.log(rng());                  // Always 0.9282578795792454\r\n\r\n// Autoseeded ARC4-based PRNG.\r\nrng = seedrandom();\r\nconsole.log(rng());                  // Reasonably unpredictable.\r\n\r\n// Global PRNG: set Math.random.\r\nseedrandom('hello.', { global: true });\r\nconsole.log(Math.random());          // Always 0.9282578795792454\r\n\r\n// Mixing accumulated entropy.\r\nrng = seedrandom('added entropy.', { entropy: true });\r\nconsole.log(rng());                  // As unpredictable as added entropy.\r\n\r\n\r\nRequire.js usage\r\n----------------\r\n\r\nSimilar to node.js usage:\r\n\r\nbower install seedrandom\r\n\r\nrequire(['seedrandom'], function(seedrandom) {\r\n  var rng = seedrandom('hello.');\r\n  console.log(rng());                  // Always 0.9282578795792454\r\n});\r\n\r\n\r\nNetwork seeding\r\n---------------\r\n\r\n<script src=//cdnjs.cloudflare.com/ajax/libs/seedrandom/2.3.10/seedrandom.min.js>\r\n</script>\r\n\r\n<!-- Seeds using urandom bits from a server. -->\r\n<script src=//jsonlib.appspot.com/urandom?callback=Math.seedrandom\">\r\n</script>\r\n\r\n<!-- Seeds mixing in random.org bits -->\r\n<script>\r\n(function(x, u, s){\r\n  try {\r\n    // Make a synchronous request to random.org.\r\n    x.open('GET', u, false);\r\n    x.send();\r\n    s = unescape(x.response.trim().replace(/^|\\s/g, '%'));\r\n  } finally {\r\n    // Seed with the response, or autoseed on failure.\r\n    Math.seedrandom(s, !!s);\r\n  }\r\n})(new XMLHttpRequest, 'https://www.random.org/integers/' +\r\n  '?num=256&min=0&max=255&col=1&base=16&format=plain&rnd=new');\r\n</script>\r\n\r\nReseeding using user input\r\n--------------------------\r\n\r\nvar seed = Math.seedrandom();        // Use prng with an automatic seed.\r\ndocument.write(Math.random());       // Pretty much unpredictable x.\r\n\r\nvar rng = new Math.seedrandom(seed); // A new prng with the same seed.\r\ndocument.write(rng());               // Repeat the 'unpredictable' x.\r\n\r\nfunction reseed(event, count) {      // Define a custom entropy collector.\r\n  var t = [];\r\n  function w(e) {\r\n    t.push([e.pageX, e.pageY, +new Date]);\r\n    if (t.length &lt; count) { return; }\r\n    document.removeEventListener(event, w);\r\n    Math.seedrandom(t, { entropy: true });\r\n  }\r\n  document.addEventListener(event, w);\r\n}\r\nreseed('mousemove', 100);            // Reseed after 100 mouse moves.\r\n\r\nThe \"pass\" option can be used to get both the prng and the seed.\r\nThe following returns both an autoseeded prng and the seed as an object,\r\nwithout mutating Math.random:\r\n\r\nvar obj = Math.seedrandom(null, { pass: function(prng, seed) {\r\n  return { random: prng, seed: seed };\r\n}});\r\n\r\n\r\nVersion notes\r\n-------------\r\n\r\nThe random number sequence is the same as version 1.0 for string seeds.\r\n* Version 2.0 changed the sequence for non-string seeds.\r\n* Version 2.1 speeds seeding and uses window.crypto to autoseed if present.\r\n* Version 2.2 alters non-crypto autoseeding to sweep up entropy from plugins.\r\n* Version 2.3 adds support for \"new\", module loading, and a null seed arg.\r\n* Version 2.3.1 adds a build environment, module packaging, and tests.\r\n* Version 2.3.4 fixes bugs on IE8, and switches to MIT license.\r\n* Version 2.3.6 adds a readable options object argument.\r\n* Version 2.3.10 adds support for node.js crypto (contributed by ctd1500).\r\n\r\nThe standard ARC4 key scheduler cycles short keys, which means that\r\nseedrandom('ab') is equivalent to seedrandom('abab') and 'ababab'.\r\nTherefore it is a good idea to add a terminator to avoid trivial\r\nequivalences on short string seeds, e.g., Math.seedrandom(str + '\\0').\r\nStarting with version 2.0, a terminator is added automatically for\r\nnon-string seeds, so seeding with the number 111 is the same as seeding\r\nwith '111\\0'.\r\n\r\nWhen seedrandom() is called with zero args or a null seed, it uses a\r\nseed drawn from the browser crypto object if present.  If there is no\r\ncrypto support, seedrandom() uses the current time, the native rng,\r\nand a walk of several DOM objects to collect a few bits of entropy.\r\n\r\nEach time the one- or two-argument forms of seedrandom are called,\r\nentropy from the passed seed is accumulated in a pool to help generate\r\nfuture seeds for the zero- and two-argument forms of seedrandom.\r\n\r\nOn speed - This javascript implementation of Math.random() is several\r\ntimes slower than the built-in Math.random() because it is not native\r\ncode, but that is typically fast enough.  Some details (timings on\r\nChrome 25 on a 2010 vintage macbook):\r\n\r\n* seeded Math.random()          - avg less than 0.0002 milliseconds per call\r\n* seedrandom('explicit.')       - avg less than 0.2 milliseconds per call\r\n* seedrandom('explicit.', true) - avg less than 0.2 milliseconds per call\r\n* seedrandom() with crypto      - avg less than 0.2 milliseconds per call\r\n\r\nAutoseeding without crypto is somewhat slower, about 20-30 milliseconds on\r\na 2012 windows 7 1.5ghz i5 laptop, as seen on Firefox 19, IE 10, and Opera.\r\nSeeded rng calls themselves are fast across these browsers, with slowest\r\nnumbers on Opera at about 0.0005 ms per seeded Math.random().\r\n\r\n\r\nLICENSE (MIT)\r\n-------------\r\n\r\nCopyright 2014 David Bau.\r\n\r\nPermission is hereby granted, free of charge, to any person obtaining\r\na copy of this software and associated documentation files (the\r\n\"Software\"), to deal in the Software without restriction, including\r\nwithout limitation the rights to use, copy, modify, merge, publish,\r\ndistribute, sublicense, and/or sell copies of the Software, and to\r\npermit persons to whom the Software is furnished to do so, subject to\r\nthe following conditions:\r\n\r\nThe above copyright notice and this permission notice shall be\r\nincluded in all copies or substantial portions of the Software.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\nEXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\nMERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\r\nIN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\r\nCLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\r\nTORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\r\nSOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n\r\n*/\r\n\r\n/**\r\n * All code is in an anonymous closure to keep the global namespace clean.\r\n */\r\n(function (\r\n  global, pool, math, width, chunks, digits, module, define, rngname) {\r\n\r\n//\r\n// The following constants are related to IEEE 754 limits.\r\n//\r\nvar startdenom = math.pow(width, chunks),\r\n  significance = math.pow(2, digits),\r\n  overflow = significance * 2,\r\n  mask = width - 1,\r\n  nodecrypto;\r\n\r\n//\r\n// seedrandom()\r\n// This is the seedrandom function described above.\r\n//\r\nvar impl = math['seed' + rngname] = function(seed, options, callback) {\r\nvar key = [];\r\noptions = (options == true) ? { entropy: true } : (options || {});\r\n\r\n// Flatten the seed string or build one from local entropy if needed.\r\nvar shortseed = mixkey(flatten(\r\n  options.entropy ? [seed, tostring(pool)] :\r\n  (seed == null) ? autoseed() : seed, 3), key);\r\n\r\n// Use the seed to initialize an ARC4 generator.\r\nvar arc4 = new ARC4(key);\r\n\r\n// Mix the randomness into accumulated entropy.\r\nmixkey(tostring(arc4.S), pool);\r\n\r\n// Calling convention: what to return as a function of prng, seed, is_math.\r\nreturn (options.pass || callback ||\r\n    // If called as a method of Math (Math.seedrandom()), mutate Math.random\r\n    // because that is how seedrandom.js has worked since v1.0.  Otherwise,\r\n    // it is a newer calling convention, so return the prng directly.\r\n    function(prng, seed, is_math_call) {\r\n      if (is_math_call) { math[rngname] = prng; return seed; }\r\n      else return prng;\r\n    })(\r\n\r\n// This function returns a random double in [0, 1) that contains\r\n// randomness in every bit of the mantissa of the IEEE 754 value.\r\nfunction() {\r\n  var n = arc4.g(chunks),             // Start with a numerator n < 2 ^ 48\r\n      d = startdenom,                 //   and denominator d = 2 ^ 48.\r\n      x = 0;                          //   and no 'extra last byte'.\r\n  while (n < significance) {          // Fill up all significant digits by\r\n    n = (n + x) * width;              //   shifting numerator and\r\n    d *= width;                       //   denominator and generating a\r\n    x = arc4.g(1);                    //   new least-significant-byte.\r\n  }\r\n  while (n >= overflow) {             // To avoid rounding up, before adding\r\n    n /= 2;                           //   last byte, shift everything\r\n    d /= 2;                           //   right using integer math until\r\n    x >>>= 1;                         //   we have exactly the desired bits.\r\n  }\r\n  return (n + x) / d;                 // Form the number within [0, 1).\r\n}, shortseed, 'global' in options ? options.global : (this == math));\r\n};\r\n\r\n//\r\n// ARC4\r\n//\r\n// An ARC4 implementation.  The constructor takes a key in the form of\r\n// an array of at most (width) integers that should be 0 <= x < (width).\r\n//\r\n// The g(count) method returns a pseudorandom integer that concatenates\r\n// the next (count) outputs from ARC4.  Its return value is a number x\r\n// that is in the range 0 <= x < (width ^ count).\r\n//\r\n/** @constructor */\r\nfunction ARC4(key) {\r\nvar t, keylen = key.length,\r\n    me = this, i = 0, j = me.i = me.j = 0, s = me.S = [];\r\n\r\n// The empty key [] is treated as [0].\r\nif (!keylen) { key = [keylen++]; }\r\n\r\n// Set up S using the standard key scheduling algorithm.\r\nwhile (i < width) {\r\n  s[i] = i++;\r\n}\r\nfor (i = 0; i < width; i++) {\r\n  s[i] = s[j = mask & (j + key[i % keylen] + (t = s[i]))];\r\n  s[j] = t;\r\n}\r\n\r\n// The \"g\" method returns the next (count) outputs as one number.\r\n(me.g = function(count) {\r\n  // Using instance members instead of closure state nearly doubles speed.\r\n  var t, r = 0,\r\n      i = me.i, j = me.j, s = me.S;\r\n  while (count--) {\r\n    t = s[i = mask & (i + 1)];\r\n    r = r * width + s[mask & ((s[i] = s[j = mask & (j + t)]) + (s[j] = t))];\r\n  }\r\n  me.i = i; me.j = j;\r\n  return r;\r\n  // For robust unpredictability, the function call below automatically\r\n  // discards an initial batch of values.  This is called RC4-drop[256].\r\n  // See http://google.com/search?q=rsa+fluhrer+response&btnI\r\n})(width);\r\n}\r\n\r\n//\r\n// flatten()\r\n// Converts an object tree to nested arrays of strings.\r\n//\r\nfunction flatten(obj, depth) {\r\nvar result = [], typ = (typeof obj), prop;\r\nif (depth && typ == 'object') {\r\n  for (prop in obj) {\r\n    try { result.push(flatten(obj[prop], depth - 1)); } catch (e) {}\r\n  }\r\n}\r\nreturn (result.length ? result : typ == 'string' ? obj : obj + '\\0');\r\n}\r\n\r\n//\r\n// mixkey()\r\n// Mixes a string seed into a key that is an array of integers, and\r\n// returns a shortened string seed that is equivalent to the result key.\r\n//\r\nfunction mixkey(seed, key) {\r\nvar stringseed = seed + '', smear, j = 0;\r\nwhile (j < stringseed.length) {\r\n  key[mask & j] =\r\n    mask & ((smear ^= key[mask & j] * 19) + stringseed.charCodeAt(j++));\r\n}\r\nreturn tostring(key);\r\n}\r\n\r\n//\r\n// autoseed()\r\n// Returns an object for autoseeding, using window.crypto if available.\r\n//\r\n/** @param {Uint8Array|Navigator=} seed */\r\nfunction autoseed(seed) {\r\ntry {\r\n  if (nodecrypto) return tostring(nodecrypto.randomBytes(width));\r\n  global.crypto.getRandomValues(seed = new Uint8Array(width));\r\n  return tostring(seed);\r\n} catch (e) {\r\n  return [+new Date, global, (seed = global.navigator) && seed.plugins,\r\n    global.screen, tostring(pool)];\r\n}\r\n}\r\n\r\n//\r\n// tostring()\r\n// Converts an array of charcodes to a string\r\n//\r\nfunction tostring(a) {\r\nreturn String.fromCharCode.apply(0, a);\r\n}\r\n\r\n//\r\n// When seedrandom.js is loaded, we immediately mix a few bits\r\n// from the built-in RNG into the entropy pool.  Because we do\r\n// not want to interfere with deterministic PRNG state later,\r\n// seedrandom will not call math.random on its own again after\r\n// initialization.\r\n//\r\nmixkey(math[rngname](), pool);\r\n\r\n//\r\n// Nodejs and AMD support: export the implementation as a module using\r\n// either convention.\r\n//\r\nif (module && module.exports) {\r\nmodule.exports = impl;\r\ntry {\r\n  // When in node.js, try using crypto package for autoseeding.\r\n  nodecrypto = require('crypto');\r\n} catch (ex) {}\r\n} else if (define && define.amd) {\r\ndefine(function() { return impl; });\r\n}\r\n\r\n//\r\n// Node.js native crypto support.\r\n//\r\n\r\n// End anonymous scope, and pass initial values.\r\n})(\r\nthis,   // global window object\r\n[],     // pool: entropy pool starts empty\r\nMath,   // math: package containing random, pow, and seedrandom\r\n256,    // width: each RC4 output is 0 <= x < 256\r\n6,      // chunks: at least six RC4 outputs for each double\r\n52,     // digits: there are 52 significant digits in a double\r\n(typeof module) == 'object' && module,    // present in node.js\r\nundefined,\r\n// (typeof define) == 'function' && define,  // present with an AMD loader\r\n'random'// rngname: name for Math.random and Math.seedrandom\r\n);","var latin_map = {\r\n'Á': 'A',\r\n'Ă': 'A',\r\n'Ắ': 'A',\r\n'Ặ': 'A',\r\n'Ằ': 'A',\r\n'Ẳ': 'A',\r\n'Ẵ': 'A',\r\n'Ǎ': 'A',\r\n'Â': 'A',\r\n'Ấ': 'A',\r\n'Ậ': 'A',\r\n'Ầ': 'A',\r\n'Ẩ': 'A',\r\n'Ẫ': 'A',\r\n'Ä': 'A',\r\n'Ǟ': 'A',\r\n'Ȧ': 'A',\r\n'Ǡ': 'A',\r\n'Ạ': 'A',\r\n'Ȁ': 'A',\r\n'À': 'A',\r\n'Ả': 'A',\r\n'Ȃ': 'A',\r\n'Ā': 'A',\r\n'Ą': 'A',\r\n'Å': 'A',\r\n'Ǻ': 'A',\r\n'Ḁ': 'A',\r\n'Ⱥ': 'A',\r\n'Ã': 'A',\r\n'Ꜳ': 'AA',\r\n'Æ': 'AE',\r\n'Ǽ': 'AE',\r\n'Ǣ': 'AE',\r\n'Ꜵ': 'AO',\r\n'Ꜷ': 'AU',\r\n'Ꜹ': 'AV',\r\n'Ꜻ': 'AV',\r\n'Ꜽ': 'AY',\r\n'Ḃ': 'B',\r\n'Ḅ': 'B',\r\n'Ɓ': 'B',\r\n'Ḇ': 'B',\r\n'Ƀ': 'B',\r\n'Ƃ': 'B',\r\n'Ć': 'C',\r\n'Č': 'C',\r\n'Ç': 'C',\r\n'Ḉ': 'C',\r\n'Ĉ': 'C',\r\n'Ċ': 'C',\r\n'Ƈ': 'C',\r\n'Ȼ': 'C',\r\n'Ď': 'D',\r\n'Ḑ': 'D',\r\n'Ḓ': 'D',\r\n'Ḋ': 'D',\r\n'Ḍ': 'D',\r\n'Ɗ': 'D',\r\n'Ḏ': 'D',\r\n'ǲ': 'D',\r\n'ǅ': 'D',\r\n'Đ': 'D',\r\n'Ƌ': 'D',\r\n'Ǳ': 'DZ',\r\n'Ǆ': 'DZ',\r\n'É': 'E',\r\n'Ĕ': 'E',\r\n'Ě': 'E',\r\n'Ȩ': 'E',\r\n'Ḝ': 'E',\r\n'Ê': 'E',\r\n'Ế': 'E',\r\n'Ệ': 'E',\r\n'Ề': 'E',\r\n'Ể': 'E',\r\n'Ễ': 'E',\r\n'Ḙ': 'E',\r\n'Ë': 'E',\r\n'Ė': 'E',\r\n'Ẹ': 'E',\r\n'Ȅ': 'E',\r\n'È': 'E',\r\n'Ẻ': 'E',\r\n'Ȇ': 'E',\r\n'Ē': 'E',\r\n'Ḗ': 'E',\r\n'Ḕ': 'E',\r\n'Ę': 'E',\r\n'Ɇ': 'E',\r\n'Ẽ': 'E',\r\n'Ḛ': 'E',\r\n'Ꝫ': 'ET',\r\n'Ḟ': 'F',\r\n'Ƒ': 'F',\r\n'Ǵ': 'G',\r\n'Ğ': 'G',\r\n'Ǧ': 'G',\r\n'Ģ': 'G',\r\n'Ĝ': 'G',\r\n'Ġ': 'G',\r\n'Ɠ': 'G',\r\n'Ḡ': 'G',\r\n'Ǥ': 'G',\r\n'Ḫ': 'H',\r\n'Ȟ': 'H',\r\n'Ḩ': 'H',\r\n'Ĥ': 'H',\r\n'Ⱨ': 'H',\r\n'Ḧ': 'H',\r\n'Ḣ': 'H',\r\n'Ḥ': 'H',\r\n'Ħ': 'H',\r\n'Í': 'I',\r\n'Ĭ': 'I',\r\n'Ǐ': 'I',\r\n'Î': 'I',\r\n'Ï': 'I',\r\n'Ḯ': 'I',\r\n'İ': 'I',\r\n'Ị': 'I',\r\n'Ȉ': 'I',\r\n'Ì': 'I',\r\n'Ỉ': 'I',\r\n'Ȋ': 'I',\r\n'Ī': 'I',\r\n'Į': 'I',\r\n'Ɨ': 'I',\r\n'Ĩ': 'I',\r\n'Ḭ': 'I',\r\n'Ꝺ': 'D',\r\n'Ꝼ': 'F',\r\n'Ᵹ': 'G',\r\n'Ꞃ': 'R',\r\n'Ꞅ': 'S',\r\n'Ꞇ': 'T',\r\n'Ꝭ': 'IS',\r\n'Ĵ': 'J',\r\n'Ɉ': 'J',\r\n'Ḱ': 'K',\r\n'Ǩ': 'K',\r\n'Ķ': 'K',\r\n'Ⱪ': 'K',\r\n'Ꝃ': 'K',\r\n'Ḳ': 'K',\r\n'Ƙ': 'K',\r\n'Ḵ': 'K',\r\n'Ꝁ': 'K',\r\n'Ꝅ': 'K',\r\n'Ĺ': 'L',\r\n'Ƚ': 'L',\r\n'Ľ': 'L',\r\n'Ļ': 'L',\r\n'Ḽ': 'L',\r\n'Ḷ': 'L',\r\n'Ḹ': 'L',\r\n'Ⱡ': 'L',\r\n'Ꝉ': 'L',\r\n'Ḻ': 'L',\r\n'Ŀ': 'L',\r\n'Ɫ': 'L',\r\n'ǈ': 'L',\r\n'Ł': 'L',\r\n'Ǉ': 'LJ',\r\n'Ḿ': 'M',\r\n'Ṁ': 'M',\r\n'Ṃ': 'M',\r\n'Ɱ': 'M',\r\n'Ń': 'N',\r\n'Ň': 'N',\r\n'Ņ': 'N',\r\n'Ṋ': 'N',\r\n'Ṅ': 'N',\r\n'Ṇ': 'N',\r\n'Ǹ': 'N',\r\n'Ɲ': 'N',\r\n'Ṉ': 'N',\r\n'Ƞ': 'N',\r\n'ǋ': 'N',\r\n'Ñ': 'N',\r\n'Ǌ': 'NJ',\r\n'Ó': 'O',\r\n'Ŏ': 'O',\r\n'Ǒ': 'O',\r\n'Ô': 'O',\r\n'Ố': 'O',\r\n'Ộ': 'O',\r\n'Ồ': 'O',\r\n'Ổ': 'O',\r\n'Ỗ': 'O',\r\n'Ö': 'O',\r\n'Ȫ': 'O',\r\n'Ȯ': 'O',\r\n'Ȱ': 'O',\r\n'Ọ': 'O',\r\n'Ő': 'O',\r\n'Ȍ': 'O',\r\n'Ò': 'O',\r\n'Ỏ': 'O',\r\n'Ơ': 'O',\r\n'Ớ': 'O',\r\n'Ợ': 'O',\r\n'Ờ': 'O',\r\n'Ở': 'O',\r\n'Ỡ': 'O',\r\n'Ȏ': 'O',\r\n'Ꝋ': 'O',\r\n'Ꝍ': 'O',\r\n'Ō': 'O',\r\n'Ṓ': 'O',\r\n'Ṑ': 'O',\r\n'Ɵ': 'O',\r\n'Ǫ': 'O',\r\n'Ǭ': 'O',\r\n'Ø': 'O',\r\n'Ǿ': 'O',\r\n'Õ': 'O',\r\n'Ṍ': 'O',\r\n'Ṏ': 'O',\r\n'Ȭ': 'O',\r\n'Ƣ': 'OI',\r\n'Ꝏ': 'OO',\r\n'Ɛ': 'E',\r\n'Ɔ': 'O',\r\n'Ȣ': 'OU',\r\n'Ṕ': 'P',\r\n'Ṗ': 'P',\r\n'Ꝓ': 'P',\r\n'Ƥ': 'P',\r\n'Ꝕ': 'P',\r\n'Ᵽ': 'P',\r\n'Ꝑ': 'P',\r\n'Ꝙ': 'Q',\r\n'Ꝗ': 'Q',\r\n'Ŕ': 'R',\r\n'Ř': 'R',\r\n'Ŗ': 'R',\r\n'Ṙ': 'R',\r\n'Ṛ': 'R',\r\n'Ṝ': 'R',\r\n'Ȑ': 'R',\r\n'Ȓ': 'R',\r\n'Ṟ': 'R',\r\n'Ɍ': 'R',\r\n'Ɽ': 'R',\r\n'Ꜿ': 'C',\r\n'Ǝ': 'E',\r\n'Ś': 'S',\r\n'Ṥ': 'S',\r\n'Š': 'S',\r\n'Ṧ': 'S',\r\n'Ş': 'S',\r\n'Ŝ': 'S',\r\n'Ș': 'S',\r\n'Ṡ': 'S',\r\n'Ṣ': 'S',\r\n'Ṩ': 'S',\r\n'ẞ': 'SS',\r\n'Ť': 'T',\r\n'Ţ': 'T',\r\n'Ṱ': 'T',\r\n'Ț': 'T',\r\n'Ⱦ': 'T',\r\n'Ṫ': 'T',\r\n'Ṭ': 'T',\r\n'Ƭ': 'T',\r\n'Ṯ': 'T',\r\n'Ʈ': 'T',\r\n'Ŧ': 'T',\r\n'Ɐ': 'A',\r\n'Ꞁ': 'L',\r\n'Ɯ': 'M',\r\n'Ʌ': 'V',\r\n'Ꜩ': 'TZ',\r\n'Ú': 'U',\r\n'Ŭ': 'U',\r\n'Ǔ': 'U',\r\n'Û': 'U',\r\n'Ṷ': 'U',\r\n'Ü': 'U',\r\n'Ǘ': 'U',\r\n'Ǚ': 'U',\r\n'Ǜ': 'U',\r\n'Ǖ': 'U',\r\n'Ṳ': 'U',\r\n'Ụ': 'U',\r\n'Ű': 'U',\r\n'Ȕ': 'U',\r\n'Ù': 'U',\r\n'Ủ': 'U',\r\n'Ư': 'U',\r\n'Ứ': 'U',\r\n'Ự': 'U',\r\n'Ừ': 'U',\r\n'Ử': 'U',\r\n'Ữ': 'U',\r\n'Ȗ': 'U',\r\n'Ū': 'U',\r\n'Ṻ': 'U',\r\n'Ų': 'U',\r\n'Ů': 'U',\r\n'Ũ': 'U',\r\n'Ṹ': 'U',\r\n'Ṵ': 'U',\r\n'Ꝟ': 'V',\r\n'Ṿ': 'V',\r\n'Ʋ': 'V',\r\n'Ṽ': 'V',\r\n'Ꝡ': 'VY',\r\n'Ẃ': 'W',\r\n'Ŵ': 'W',\r\n'Ẅ': 'W',\r\n'Ẇ': 'W',\r\n'Ẉ': 'W',\r\n'Ẁ': 'W',\r\n'Ⱳ': 'W',\r\n'Ẍ': 'X',\r\n'Ẋ': 'X',\r\n'Ý': 'Y',\r\n'Ŷ': 'Y',\r\n'Ÿ': 'Y',\r\n'Ẏ': 'Y',\r\n'Ỵ': 'Y',\r\n'Ỳ': 'Y',\r\n'Ƴ': 'Y',\r\n'Ỷ': 'Y',\r\n'Ỿ': 'Y',\r\n'Ȳ': 'Y',\r\n'Ɏ': 'Y',\r\n'Ỹ': 'Y',\r\n'Ź': 'Z',\r\n'Ž': 'Z',\r\n'Ẑ': 'Z',\r\n'Ⱬ': 'Z',\r\n'Ż': 'Z',\r\n'Ẓ': 'Z',\r\n'Ȥ': 'Z',\r\n'Ẕ': 'Z',\r\n'Ƶ': 'Z',\r\n'Ĳ': 'IJ',\r\n'Œ': 'OE',\r\n'ᴀ': 'A',\r\n'ᴁ': 'AE',\r\n'ʙ': 'B',\r\n'ᴃ': 'B',\r\n'ᴄ': 'C',\r\n'ᴅ': 'D',\r\n'ᴇ': 'E',\r\n'ꜰ': 'F',\r\n'ɢ': 'G',\r\n'ʛ': 'G',\r\n'ʜ': 'H',\r\n'ɪ': 'I',\r\n'ʁ': 'R',\r\n'ᴊ': 'J',\r\n'ᴋ': 'K',\r\n'ʟ': 'L',\r\n'ᴌ': 'L',\r\n'ᴍ': 'M',\r\n'ɴ': 'N',\r\n'ᴏ': 'O',\r\n'ɶ': 'OE',\r\n'ᴐ': 'O',\r\n'ᴕ': 'OU',\r\n'ᴘ': 'P',\r\n'ʀ': 'R',\r\n'ᴎ': 'N',\r\n'ᴙ': 'R',\r\n'ꜱ': 'S',\r\n'ᴛ': 'T',\r\n'ⱻ': 'E',\r\n'ᴚ': 'R',\r\n'ᴜ': 'U',\r\n'ᴠ': 'V',\r\n'ᴡ': 'W',\r\n'ʏ': 'Y',\r\n'ᴢ': 'Z',\r\n'á': 'a',\r\n'ă': 'a',\r\n'ắ': 'a',\r\n'ặ': 'a',\r\n'ằ': 'a',\r\n'ẳ': 'a',\r\n'ẵ': 'a',\r\n'ǎ': 'a',\r\n'â': 'a',\r\n'ấ': 'a',\r\n'ậ': 'a',\r\n'ầ': 'a',\r\n'ẩ': 'a',\r\n'ẫ': 'a',\r\n'ä': 'a',\r\n'ǟ': 'a',\r\n'ȧ': 'a',\r\n'ǡ': 'a',\r\n'ạ': 'a',\r\n'ȁ': 'a',\r\n'à': 'a',\r\n'ả': 'a',\r\n'ȃ': 'a',\r\n'ā': 'a',\r\n'ą': 'a',\r\n'ᶏ': 'a',\r\n'ẚ': 'a',\r\n'å': 'a',\r\n'ǻ': 'a',\r\n'ḁ': 'a',\r\n'ⱥ': 'a',\r\n'ã': 'a',\r\n'ꜳ': 'aa',\r\n'æ': 'ae',\r\n'ǽ': 'ae',\r\n'ǣ': 'ae',\r\n'ꜵ': 'ao',\r\n'ꜷ': 'au',\r\n'ꜹ': 'av',\r\n'ꜻ': 'av',\r\n'ꜽ': 'ay',\r\n'ḃ': 'b',\r\n'ḅ': 'b',\r\n'ɓ': 'b',\r\n'ḇ': 'b',\r\n'ᵬ': 'b',\r\n'ᶀ': 'b',\r\n'ƀ': 'b',\r\n'ƃ': 'b',\r\n'ɵ': 'o',\r\n'ć': 'c',\r\n'č': 'c',\r\n'ç': 'c',\r\n'ḉ': 'c',\r\n'ĉ': 'c',\r\n'ɕ': 'c',\r\n'ċ': 'c',\r\n'ƈ': 'c',\r\n'ȼ': 'c',\r\n'ď': 'd',\r\n'ḑ': 'd',\r\n'ḓ': 'd',\r\n'ȡ': 'd',\r\n'ḋ': 'd',\r\n'ḍ': 'd',\r\n'ɗ': 'd',\r\n'ᶑ': 'd',\r\n'ḏ': 'd',\r\n'ᵭ': 'd',\r\n'ᶁ': 'd',\r\n'đ': 'd',\r\n'ɖ': 'd',\r\n'ƌ': 'd',\r\n'ı': 'i',\r\n'ȷ': 'j',\r\n'ɟ': 'j',\r\n'ʄ': 'j',\r\n'ǳ': 'dz',\r\n'ǆ': 'dz',\r\n'é': 'e',\r\n'ĕ': 'e',\r\n'ě': 'e',\r\n'ȩ': 'e',\r\n'ḝ': 'e',\r\n'ê': 'e',\r\n'ế': 'e',\r\n'ệ': 'e',\r\n'ề': 'e',\r\n'ể': 'e',\r\n'ễ': 'e',\r\n'ḙ': 'e',\r\n'ë': 'e',\r\n'ė': 'e',\r\n'ẹ': 'e',\r\n'ȅ': 'e',\r\n'è': 'e',\r\n'ẻ': 'e',\r\n'ȇ': 'e',\r\n'ē': 'e',\r\n'ḗ': 'e',\r\n'ḕ': 'e',\r\n'ⱸ': 'e',\r\n'ę': 'e',\r\n'ᶒ': 'e',\r\n'ɇ': 'e',\r\n'ẽ': 'e',\r\n'ḛ': 'e',\r\n'ꝫ': 'et',\r\n'ḟ': 'f',\r\n'ƒ': 'f',\r\n'ᵮ': 'f',\r\n'ᶂ': 'f',\r\n'ǵ': 'g',\r\n'ğ': 'g',\r\n'ǧ': 'g',\r\n'ģ': 'g',\r\n'ĝ': 'g',\r\n'ġ': 'g',\r\n'ɠ': 'g',\r\n'ḡ': 'g',\r\n'ᶃ': 'g',\r\n'ǥ': 'g',\r\n'ḫ': 'h',\r\n'ȟ': 'h',\r\n'ḩ': 'h',\r\n'ĥ': 'h',\r\n'ⱨ': 'h',\r\n'ḧ': 'h',\r\n'ḣ': 'h',\r\n'ḥ': 'h',\r\n'ɦ': 'h',\r\n'ẖ': 'h',\r\n'ħ': 'h',\r\n'ƕ': 'hv',\r\n'í': 'i',\r\n'ĭ': 'i',\r\n'ǐ': 'i',\r\n'î': 'i',\r\n'ï': 'i',\r\n'ḯ': 'i',\r\n'ị': 'i',\r\n'ȉ': 'i',\r\n'ì': 'i',\r\n'ỉ': 'i',\r\n'ȋ': 'i',\r\n'ī': 'i',\r\n'į': 'i',\r\n'ᶖ': 'i',\r\n'ɨ': 'i',\r\n'ĩ': 'i',\r\n'ḭ': 'i',\r\n'ꝺ': 'd',\r\n'ꝼ': 'f',\r\n'ᵹ': 'g',\r\n'ꞃ': 'r',\r\n'ꞅ': 's',\r\n'ꞇ': 't',\r\n'ꝭ': 'is',\r\n'ǰ': 'j',\r\n'ĵ': 'j',\r\n'ʝ': 'j',\r\n'ɉ': 'j',\r\n'ḱ': 'k',\r\n'ǩ': 'k',\r\n'ķ': 'k',\r\n'ⱪ': 'k',\r\n'ꝃ': 'k',\r\n'ḳ': 'k',\r\n'ƙ': 'k',\r\n'ḵ': 'k',\r\n'ᶄ': 'k',\r\n'ꝁ': 'k',\r\n'ꝅ': 'k',\r\n'ĺ': 'l',\r\n'ƚ': 'l',\r\n'ɬ': 'l',\r\n'ľ': 'l',\r\n'ļ': 'l',\r\n'ḽ': 'l',\r\n'ȴ': 'l',\r\n'ḷ': 'l',\r\n'ḹ': 'l',\r\n'ⱡ': 'l',\r\n'ꝉ': 'l',\r\n'ḻ': 'l',\r\n'ŀ': 'l',\r\n'ɫ': 'l',\r\n'ᶅ': 'l',\r\n'ɭ': 'l',\r\n'ł': 'l',\r\n'ǉ': 'lj',\r\n'ſ': 's',\r\n'ẜ': 's',\r\n'ẛ': 's',\r\n'ẝ': 's',\r\n'ḿ': 'm',\r\n'ṁ': 'm',\r\n'ṃ': 'm',\r\n'ɱ': 'm',\r\n'ᵯ': 'm',\r\n'ᶆ': 'm',\r\n'ń': 'n',\r\n'ň': 'n',\r\n'ņ': 'n',\r\n'ṋ': 'n',\r\n'ȵ': 'n',\r\n'ṅ': 'n',\r\n'ṇ': 'n',\r\n'ǹ': 'n',\r\n'ɲ': 'n',\r\n'ṉ': 'n',\r\n'ƞ': 'n',\r\n'ᵰ': 'n',\r\n'ᶇ': 'n',\r\n'ɳ': 'n',\r\n'ñ': 'n',\r\n'ǌ': 'nj',\r\n'ó': 'o',\r\n'ŏ': 'o',\r\n'ǒ': 'o',\r\n'ô': 'o',\r\n'ố': 'o',\r\n'ộ': 'o',\r\n'ồ': 'o',\r\n'ổ': 'o',\r\n'ỗ': 'o',\r\n'ö': 'o',\r\n'ȫ': 'o',\r\n'ȯ': 'o',\r\n'ȱ': 'o',\r\n'ọ': 'o',\r\n'ő': 'o',\r\n'ȍ': 'o',\r\n'ò': 'o',\r\n'ỏ': 'o',\r\n'ơ': 'o',\r\n'ớ': 'o',\r\n'ợ': 'o',\r\n'ờ': 'o',\r\n'ở': 'o',\r\n'ỡ': 'o',\r\n'ȏ': 'o',\r\n'ꝋ': 'o',\r\n'ꝍ': 'o',\r\n'ⱺ': 'o',\r\n'ō': 'o',\r\n'ṓ': 'o',\r\n'ṑ': 'o',\r\n'ǫ': 'o',\r\n'ǭ': 'o',\r\n'ø': 'o',\r\n'ǿ': 'o',\r\n'õ': 'o',\r\n'ṍ': 'o',\r\n'ṏ': 'o',\r\n'ȭ': 'o',\r\n'ƣ': 'oi',\r\n'ꝏ': 'oo',\r\n'ɛ': 'e',\r\n'ᶓ': 'e',\r\n'ɔ': 'o',\r\n'ᶗ': 'o',\r\n'ȣ': 'ou',\r\n'ṕ': 'p',\r\n'ṗ': 'p',\r\n'ꝓ': 'p',\r\n'ƥ': 'p',\r\n'ᵱ': 'p',\r\n'ᶈ': 'p',\r\n'ꝕ': 'p',\r\n'ᵽ': 'p',\r\n'ꝑ': 'p',\r\n'ꝙ': 'q',\r\n'ʠ': 'q',\r\n'ɋ': 'q',\r\n'ꝗ': 'q',\r\n'ŕ': 'r',\r\n'ř': 'r',\r\n'ŗ': 'r',\r\n'ṙ': 'r',\r\n'ṛ': 'r',\r\n'ṝ': 'r',\r\n'ȑ': 'r',\r\n'ɾ': 'r',\r\n'ᵳ': 'r',\r\n'ȓ': 'r',\r\n'ṟ': 'r',\r\n'ɼ': 'r',\r\n'ᵲ': 'r',\r\n'ᶉ': 'r',\r\n'ɍ': 'r',\r\n'ɽ': 'r',\r\n'ↄ': 'c',\r\n'ꜿ': 'c',\r\n'ɘ': 'e',\r\n'ɿ': 'r',\r\n'ś': 's',\r\n'ṥ': 's',\r\n'š': 's',\r\n'ṧ': 's',\r\n'ş': 's',\r\n'ŝ': 's',\r\n'ș': 's',\r\n'ṡ': 's',\r\n'ṣ': 's',\r\n'ṩ': 's',\r\n'ʂ': 's',\r\n'ᵴ': 's',\r\n'ᶊ': 's',\r\n'ȿ': 's',\r\n'ß': 'ss',\r\n'ɡ': 'g',\r\n'ᴑ': 'o',\r\n'ᴓ': 'o',\r\n'ᴝ': 'u',\r\n'ť': 't',\r\n'ţ': 't',\r\n'ṱ': 't',\r\n'ț': 't',\r\n'ȶ': 't',\r\n'ẗ': 't',\r\n'ⱦ': 't',\r\n'ṫ': 't',\r\n'ṭ': 't',\r\n'ƭ': 't',\r\n'ṯ': 't',\r\n'ᵵ': 't',\r\n'ƫ': 't',\r\n'ʈ': 't',\r\n'ŧ': 't',\r\n'ᵺ': 'th',\r\n'ɐ': 'a',\r\n'ᴂ': 'ae',\r\n'ǝ': 'e',\r\n'ᵷ': 'g',\r\n'ɥ': 'h',\r\n'ʮ': 'h',\r\n'ʯ': 'h',\r\n'ᴉ': 'i',\r\n'ʞ': 'k',\r\n'ꞁ': 'l',\r\n'ɯ': 'm',\r\n'ɰ': 'm',\r\n'ᴔ': 'oe',\r\n'ɹ': 'r',\r\n'ɻ': 'r',\r\n'ɺ': 'r',\r\n'ⱹ': 'r',\r\n'ʇ': 't',\r\n'ʌ': 'v',\r\n'ʍ': 'w',\r\n'ʎ': 'y',\r\n'ꜩ': 'tz',\r\n'ú': 'u',\r\n'ŭ': 'u',\r\n'ǔ': 'u',\r\n'û': 'u',\r\n'ṷ': 'u',\r\n'ü': 'u',\r\n'ǘ': 'u',\r\n'ǚ': 'u',\r\n'ǜ': 'u',\r\n'ǖ': 'u',\r\n'ṳ': 'u',\r\n'ụ': 'u',\r\n'ű': 'u',\r\n'ȕ': 'u',\r\n'ù': 'u',\r\n'ủ': 'u',\r\n'ư': 'u',\r\n'ứ': 'u',\r\n'ự': 'u',\r\n'ừ': 'u',\r\n'ử': 'u',\r\n'ữ': 'u',\r\n'ȗ': 'u',\r\n'ū': 'u',\r\n'ṻ': 'u',\r\n'ų': 'u',\r\n'ᶙ': 'u',\r\n'ů': 'u',\r\n'ũ': 'u',\r\n'ṹ': 'u',\r\n'ṵ': 'u',\r\n'ᵫ': 'ue',\r\n'ꝸ': 'um',\r\n'ⱴ': 'v',\r\n'ꝟ': 'v',\r\n'ṿ': 'v',\r\n'ʋ': 'v',\r\n'ᶌ': 'v',\r\n'ⱱ': 'v',\r\n'ṽ': 'v',\r\n'ꝡ': 'vy',\r\n'ẃ': 'w',\r\n'ŵ': 'w',\r\n'ẅ': 'w',\r\n'ẇ': 'w',\r\n'ẉ': 'w',\r\n'ẁ': 'w',\r\n'ⱳ': 'w',\r\n'ẘ': 'w',\r\n'ẍ': 'x',\r\n'ẋ': 'x',\r\n'ᶍ': 'x',\r\n'ý': 'y',\r\n'ŷ': 'y',\r\n'ÿ': 'y',\r\n'ẏ': 'y',\r\n'ỵ': 'y',\r\n'ỳ': 'y',\r\n'ƴ': 'y',\r\n'ỷ': 'y',\r\n'ỿ': 'y',\r\n'ȳ': 'y',\r\n'ẙ': 'y',\r\n'ɏ': 'y',\r\n'ỹ': 'y',\r\n'ź': 'z',\r\n'ž': 'z',\r\n'ẑ': 'z',\r\n'ʑ': 'z',\r\n'ⱬ': 'z',\r\n'ż': 'z',\r\n'ẓ': 'z',\r\n'ȥ': 'z',\r\n'ẕ': 'z',\r\n'ᵶ': 'z',\r\n'ᶎ': 'z',\r\n'ʐ': 'z',\r\n'ƶ': 'z',\r\n'ɀ': 'z',\r\n'ﬀ': 'ff',\r\n'ﬃ': 'ffi',\r\n'ﬄ': 'ffl',\r\n'ﬁ': 'fi',\r\n'ﬂ': 'fl',\r\n'ĳ': 'ij',\r\n'œ': 'oe',\r\n'ﬆ': 'st',\r\n'ₐ': 'a',\r\n'ₑ': 'e',\r\n'ᵢ': 'i',\r\n'ⱼ': 'j',\r\n'ₒ': 'o',\r\n'ᵣ': 'r',\r\n'ᵤ': 'u',\r\n'ᵥ': 'v',\r\n'ₓ': 'x'\r\n};\r\nString.prototype.latinise = function() {\r\n\treturn this.replace(/[^A-Za-z0-9]/g, function(x) { return latin_map[x] || x; })\r\n};\r\nString.prototype.latinize = String.prototype.latinise;\r\nString.prototype.isLatin = function() {\r\n\treturn this === this.latinise();\r\n};\r\n","import React, { Component } from 'react'\r\nimport { FaPlay as Play, FaPause as Pause } from 'react-icons/fa'\r\n\r\nimport \"../styles/Timer.scss\"\r\n\r\n\r\nclass Timer extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            time: 0, \r\n            playing: props.playing,\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.interval = setInterval(this.passTime, 1000)\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        clearInterval(this.interval)\r\n    }\r\n\r\n    // play = () => {\r\n    //     if(this.props.forfeit_status || this.props.gameWon()) return\r\n    //     this.setState({playing: true})\r\n    //     if(this.props.onPlay) this.props.onPlay();\r\n    //     // this.interval = setInterval(this.passTime, 1000);\r\n    // }\r\n\r\n    // pause = () => {\r\n    //     if(this.props.forfeit_status || this.props.gameWon()) return\r\n    //     this.setState({playing: false})\r\n    //     if(this.props.onPause) this.props.onPause();\r\n    //     // clearInterval(this.interval);\r\n    // }\r\n\r\n    passTime = () => {\r\n        if(!this.props.playing || this.props.forfeit_status || this.props.gameWon()) return\r\n        this.setState({ time: this.state.time+1 })\r\n    }\r\n\r\n    padNumber(number) {\r\n        if(number<100 ) return (\"0\"+number).slice(-2)\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div id=\"timer\" className={this.props.forfeit_status ? \"forfeit\" : this.props.gameWon() ? \"won\" : \"\"}>\r\n                <div>{this.padNumber(Math.floor(this.state.time / (60*60)) % 24)}:{this.padNumber(Math.floor(this.state.time / 60) % 60)}:{this.padNumber(this.state.time % 60)}</div>\r\n                {this.props.playing ? <Pause className='button' onClick={this.props.onPause}/> : <Play className='button' onClick={this.props.onPlay}/>}\r\n            </div>\r\n        );\r\n    \r\n    }\r\n} export default Timer;","const token = \"4qtBMiQeR5pD1zFm-vGmFV6j5khGAiRQskTCLXyuGbxeYGbnXrTnXIyA5n2iXjdg\"\r\n\r\nexport { token };","import React, {Component} from 'react'\r\nimport { Input } from 'reactstrap'\r\nimport cheerio from 'cheerio';\r\nimport Timer from './Timer'\r\nimport \"../styles/Display.scss\"\r\nimport \"../resources/latinise_compact\"\r\nimport { token } from '../resources/genius_token'\r\n\r\n\r\nclass Song extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            discoveredWords : [],\r\n            forfeit_status: false,\r\n            playing: props.playOnLoad,\r\n            pause_text: \"Press play to begin!\"\r\n        }\r\n        this.getLyrics = this.getLyrics.bind(this);\r\n        this.setSong = this.setSong.bind(this);\r\n        this.discover = this.discover.bind(this)\r\n        this.forfeit = this.forfeit.bind(this)\r\n        this.checkWord = this.checkWord.bind(this)\r\n        this.gameWon = this.gameWon.bind(this)\r\n        this.lyricDiscovered = this.lyricDiscovered.bind(this)\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getSong();\r\n    }\r\n    \r\n    componentDidUpdate(prevProps, prevState) {\r\n        if(prevProps.playOnLoad !== this.props.playOnLoad) this.setState({playing: this.props.playOnLoad})\r\n        if(this.props.match.params.genius_id !== prevProps.match.params.genius_id) {\r\n            this.setState({song: undefined, forfeit_status: false, playing: this.props.playOnLoad, pause_text: \"Press play to begin!\", discoveredWords: []});\r\n            this.getSong();\r\n        }\r\n    }\r\n\r\n    getSong() {\r\n        const getLyrics = this.getLyrics;\r\n        var request = new XMLHttpRequest();\r\n        request.open('GET', 'https://api.genius.com/songs/' + this.props.match.params.genius_id + '?access_token=' + token, true);\r\n        request.onreadystatechange = () => {\r\n            if (request.readyState === 4 && request.status === 200) {\r\n                var type = request.getResponseHeader('Content-Type');\r\n                if (type.indexOf(\"text\") !== 1) {\r\n                    getLyrics(JSON.parse(request.responseText).response.song)\r\n                }\r\n            }\r\n        }\r\n        request.send();\r\n    }\r\n\r\n    togglePlaying = () => {\r\n        if(!this.state.forfeit_status && !this.gameWon()) {\r\n            this.setState({playing: !this.state.playing, pause_text: 'Paused'})\r\n        }\r\n    }\r\n\r\n    getLyrics(song) {\r\n        const setSong = this.setSong;\r\n        var request = new XMLHttpRequest();\r\n        request.open('GET', 'https://server.amrictor.com:8888/' + song.url, true);\r\n        request.onreadystatechange = () => {\r\n            if (request.readyState === 4 && request.status === 200) {\r\n                var type = request.getResponseHeader('Content-Type');\r\n                if (type.indexOf(\"text\") !== 1) {\r\n                    const $ = cheerio.load(request.responseText.replaceAll('<br/>', '\\n'))\r\n                    let s = {}\r\n                    s[\"title\"] = song.title ? song.title : \"N/A\"\r\n                    s[\"album\"] = song.album ? song.album.name : \"N/A\"\r\n                    s[\"artist\"] = song.primary_artist ? song.primary_artist.name : \"N/A\"\r\n                    s[\"url\"] = song.url\r\n                    s[\"lyrics\"]= $('div[data-lyrics-container=true]').text().replace(/\\[[^\\]]*\\]/g, \"\").trim().replace(/[’‘]/g, '\\'').split((/[\\u200B\\r\\n\\s,?!:;().…\"“”—\\-–_]+/)).filter((word) => !word.match(/^[\\s']+$/) && word);\r\n                    setSong(s)\r\n                }\r\n            }\r\n        }\r\n        request.send();\r\n    }\r\n\r\n    forfeit() {\r\n        this.setState({forfeit_status: true})\r\n    }\r\n    \r\n    setSong(song) {\r\n        this.setState({song: song, discoveredWords: [], forfeit: false})\r\n    }\r\n\r\n    discover(word, index) {\r\n        let temp = this.state.discoveredWords\r\n        temp[index]=word;\r\n        this.setState({discoveredWords : temp})\r\n    }\r\n\r\n    wordsEquivalent(lyric, word) {\r\n        lyric = lyric.toLowerCase().replace(/'/g, \"\").latinise().trim()\r\n        word = word.toLowerCase().replace(/'/g, \"\").latinise().trim()\r\n        if ( lyric === word ) {\r\n            return true;\r\n        }\r\n        if ( \r\n            (lyric.match(/^wh*[oah]{2,}$/) && word.match(/^wh*[oah]{2,}$/)) \r\n            || (lyric.match(/^o[oh]+$/) && word.match(/^o[oh]+$/)) \r\n            || (lyric.match(/^a[ah]+$/) && word.match(/^a[ah]*$/))\r\n            || (lyric.match(/^h[ah]+$/) && word.match(/^h[ah]*$/)) \r\n        ) return true;\r\n        return false;\r\n    }\r\n\r\n    lyricDiscovered(word) {\r\n        return (this.state.discoveredWords.map((w) => this.wordsEquivalent(w, word)).includes(true))\r\n    }\r\n\r\n    checkWord(event) {\r\n        let word = event.target.value\r\n        if (this.lyricDiscovered(word)) return;\r\n        this.state.song.lyrics.forEach((w, index) => {\r\n            if(this.wordsEquivalent(w, word)) {\r\n                this.discover(w, index);\r\n                event.target.value = \"\"\r\n            }\r\n        })\r\n    }\r\n\r\n    gameWon(){\r\n        if (typeof this.state.song === \"undefined\") return false;\r\n        return JSON.stringify(this.state.discoveredWords) === JSON.stringify(this.state.song.lyrics)\r\n    }\r\n    \r\n    render(){\r\n        return ( \r\n            <div id=\"outer_display\">\r\n                {typeof this.state.song != \"undefined\"\r\n                ? <div id=\"display\">\r\n                    {this.gameWon() && <div id=\"winner\">You won!</div>}\r\n                    <Input type=\"search\" disabled={this.state.forfeit_status || !this.state.playing || this.gameWon()} onChange={this.checkWord}/> \r\n                    <div id=\"info\">\r\n                        <div>{this.state.discoveredWords.filter((word) => word).length} / {this.state.song.lyrics.length}</div>\r\n                        <Timer playing={this.state.playing} onPlay={this.togglePlaying} onPause={this.togglePlaying} forfeit_status={this.state.forfeit_status} gameWon={this.gameWon}/>\r\n\r\n                        <button disabled={!this.state.playing || this.state.forfeit_status || this.gameWon()} onClick={this.forfeit}>Forfeit</button>\r\n                    </div>\r\n                    {(this.state.forfeit_status || this.gameWon()) && <div id=\"song_title\" className={this.state.forfeit_status ? \"forfeit\" : \"won\"}>{this.state.song.title} by <i>{this.state.song.artist}</i></div>}\r\n                    <div id=\"lyrics\" style={this.state.playing ? {} : {overflow: 'hidden'}}>\r\n                        {!this.state.playing && <div id=\"pause_overlay\">\r\n                            {this.state.pause_text}\r\n                        </div>}\r\n                        {this.state.song.lyrics.map((word, index) => <div key={index} className={\"word \" + (this.lyricDiscovered(word) && this.state.playing ? \"\" : this.state.forfeit_status ? \"forfeit\" : \"undiscovered\")}>{word}</div>)}\r\n                    </div>\r\n                    {(this.state.forfeit_status || this.gameWon()) && <a target=\"_blank\" rel=\"noopener noreferrer\" href={this.state.song.url}>Notice something wrong with these lyrics? <br/>Help fix them by following this link and suggesting a change!</a>}\r\n                    \r\n                </div>\r\n                : \"Loading...\"\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n} export default Song;","import React, { Component } from 'react'\r\nimport { FaBars as MenuIcon } from 'react-icons/fa'\r\nimport \"../styles/Sidebar.scss\"\r\n\r\nclass Sidebar extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            expanded: false\r\n        }\r\n        this.toggle = this.toggle.bind(this);\r\n    }\r\n\r\n    toggle() {\r\n        this.setState({ expanded: !this.state.expanded })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div id=\"sidebar\" className={this.state.expanded ? \" expanded\" : \"hidden\"}>\r\n                <div id=\"header\">\r\n                    <div id=\"title\" className={this.state.expanded ? \" expanded\" : \"hidden\"}>{this.props.title}</div>                   \r\n                    <div className=\"spacer\"></div>\r\n                    <MenuIcon id=\"icon\" className={this.state.expanded ? \"\" : \"icon-hidden\"} onClick={this.toggle}/>\r\n                </div>\r\n                <div id=\"children\" className={this.state.expanded ? \" expanded\" : \"hidden\"}>\r\n                    {this.props.children}\r\n                </div>\r\n            </div>\r\n        );\r\n    \r\n    }\r\n} export default Sidebar;","import React, {Component} from 'react'\r\nimport { Input } from 'reactstrap'\r\n\r\nimport { FaPlusSquare as Add, FaCheckSquare as Check } from 'react-icons/fa'\r\n\r\nimport '../styles/Search.scss'\r\n\r\n\r\n\r\nclass Search extends Component {\r\n\r\n    constructor(props){\r\n        super(props)\r\n        this.state = {\r\n            search: \"\",\r\n            results: []\r\n        }\r\n        this.updateInput = this.updateInput.bind(this)\r\n        this.getSearchResults = this.getSearchResults.bind(this)\r\n        this.search = this.search.bind(this)\r\n        this.listenForEnter = this.listenForEnter.bind(this)\r\n    }\r\n\r\n    getSearchResults(obj) {\r\n        let results = obj.response.hits.map((hit) => {return {title: hit.result.title, artist: {name: hit.result.primary_artist.name, id: hit.result.primary_artist.id}, lyrics_path: hit.result.path, song_path: hit.result.api_path, image: hit.result.song_art_image_url}})\r\n        this.setState({results: results})\r\n    }\r\n\r\n    getGenius(endpoint, callback) {\r\n        var request = new XMLHttpRequest();\r\n        request.open('GET', 'https://api.genius.com' + endpoint + '&access_token=4qtBMiQeR5pD1zFm-vGmFV6j5khGAiRQskTCLXyuGbxeYGbnXrTnXIyA5n2iXjdg', true);\r\n        request.onreadystatechange = () => {\r\n            if (request.readyState === 4 && request.status === 200) {\r\n                var type = request.getResponseHeader('Content-Type');\r\n                if (type.indexOf(\"text\") !== 1) {\r\n                    console.log(JSON.parse(request.responseText))\r\n                    callback(JSON.parse(request.responseText))\r\n                }\r\n            }\r\n        }\r\n        request.send();\r\n    }\r\n\r\n    // getSpotify(endpoint, callback) {\r\n    //     var request = new XMLHttpRequest();\r\n    //     request.open('GET', 'https://api.spotify.com' + endpoint + '&access_token=4qtBMiQeR5pD1zFm-vGmFV6j5khGAiRQskTCLXyuGbxeYGbnXrTnXIyA5n2iXjdg', true);\r\n    //     request.onreadystatechange = () => {\r\n    //         if (request.readyState === 4 && request.status === 200) {\r\n    //             var type = request.getResponseHeader('Content-Type');\r\n    //             if (type.indexOf(\"text\") !== 1) {\r\n    //                 console.log(JSON.parse(request.responseText))\r\n    //                 callback(JSON.parse(request.responseText))\r\n    //             }\r\n    //         }\r\n    //     }\r\n    //     request.send();\r\n    // }\r\n\r\n    // renderSearch(){\r\n    //     return(\r\n    //         this.state.results.map((result)=><div><a href={\"/#\" +result.song_path}><button>{result.title} by <i>{result.artist}</i></button></a></div>)\r\n    //     )\r\n\r\n    // }\r\n    updateInput(event) {\r\n        this.setState({search: event.target.value})\r\n    }\r\n\r\n    search() {\r\n        // this.getSpotify()\r\n        this.getGenius('/search?per_page=35&q='+encodeURI(this.state.search), this.getSearchResults)\r\n    }\r\n\r\n    \r\n\r\n    listenForEnter(event) {\r\n        if (event.keyCode === 13) {\r\n            this.search();\r\n        }\r\n    }\r\n\r\n    render(){\r\n        return (\r\n            <div id=\"search\">\r\n                \r\n                <div id=\"search_bar\">\r\n                    <Input placeholder=\"Search music...\" onChange={this.updateInput}  onKeyDown={this.listenForEnter}/>\r\n                    <button onClick={this.search}>Search</button>\r\n                </div>\r\n\r\n                <div id=\"search_results\" className={this.state.results.length === 0 ? \"empty\": \"\"}>\r\n                    {this.state.results.map((result)=>\r\n                        <div className=\"result\" key={result.song_path}>\r\n                            <div className=\"info\">\r\n                                <img src={result.image} alt=\"\"/>\r\n                                <div className=\"text\">\r\n                                    <a className=\"song\" title=\"Play this song\" href={\"/#\" +result.song_path}>{result.title}</a> \r\n                                    <div className=\"artist\" title=\"View more from this artist\" onClick={() => this.props.getArtist(result.artist)}><i>{result.artist.name}</i></div>\r\n                                </div>\r\n                            </div>\r\n                            {this.props.songInPlaylist(result) \r\n                            ? <Check className=\"static\" title=\"Already in playlist\"/>\r\n                            : <Add  className=\"button\" title=\"Add to playlist\" onClick={()=>this.props.addSong(result)}/>}\r\n                        </div>\r\n                    )}\r\n                </div>\r\n\r\n            </div>\r\n        );\r\n    \r\n    }\r\n} export default Search;","import React, {Component} from 'react'\r\n// import { Input } from 'reactstrap'\r\n\r\nimport { FaTimesCircle as Remove, FaRandom as Shuffle, FaSave as Save, FaUpload as Upload, FaTimes as Clear } from 'react-icons/fa'\r\n\r\nimport '../styles/Search.scss'\r\nimport seedrandom from '../resources/seedrandom'\r\n\r\nclass Playlist extends Component {\r\n\r\n    constructor(props){\r\n        super(props)\r\n        this.state = {\r\n            history: []\r\n        }\r\n        this.saveToFile = this.saveToFile.bind(this)\r\n        this.loadFile = this.loadFile.bind(this)\r\n        this.clearPlaylist = this.clearPlaylist.bind(this)\r\n        this.updateTitle = this.updateTitle.bind(this)\r\n        this.loadRandomSong = this.loadRandomSong.bind(this)\r\n        this.getRandomSong = this.getRandomSong.bind(this)\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if(prevProps.seed !== this.props.seed || JSON.stringify(prevProps.playlist)!==JSON.stringify(this.props.playlist)) this.resetRandom();\r\n    }\r\n    \r\n    componentDidMount() {\r\n        this.resetRandom();\r\n    }\r\n\r\n    resetRandom() {\r\n        if(this.props.seed) seedrandom(this.props.seed, { global: true });\r\n        this.setState({history: []});\r\n    }\r\n\r\n    loadFile(event){\r\n        let reader = new FileReader();\r\n        reader.onload = function(event) {\r\n            let fileContent = event.target.result;\r\n            let playlist = JSON.parse(fileContent);\r\n            this.props.updatePlaylist(playlist.name, playlist.contents);\r\n        }.bind(this);\r\n        reader.readAsText(event.target.files[0]);\r\n    }\r\n\r\n    saveToFile(){\r\n        let source = JSON.stringify(this.props.playlist);\r\n        let filename = this.props.playlist.name.toLowerCase().replace(/ /g, \"_\") +\".json\";\r\n        let contentType = \"application/json;charset=utf-8;\";\r\n\r\n        if (window.navigator && window.navigator.msSaveOrOpenBlob) {\r\n            let blob = new Blob([decodeURIComponent(encodeURI(source))], { type: contentType });\r\n            navigator.msSaveOrOpenBlob(blob, filename);\r\n        } else {\r\n            let a = document.createElement('a');\r\n            a.download = filename;\r\n            a.href = 'data:' + contentType + ',' + encodeURIComponent(source);\r\n            a.target = '_blank';\r\n            document.body.appendChild(a);\r\n            a.click();\r\n            document.body.removeChild(a);\r\n        }\r\n    }\r\n\r\n    updateTitle(event) {\r\n        this.props.updatePlaylist(event.target.value, this.props.playlist.contents)\r\n    }\r\n\r\n    clearPlaylist() {\r\n        this.props.updatePlaylist(this.props.playlist.name, []);\r\n    }\r\n\r\n    getRandomSong() {\r\n        var options = this.props.playlist.contents.map((s) => s.song_path).filter((song)=>!this.state.history.includes(song))\r\n\r\n        if(options.length===0) {\r\n            this.setState({history: [this.props.location.pathname]})\r\n            var index = Math.floor(Math.random() * (this.props.playlist.contents.length-1));\r\n            return this.props.playlist.contents.filter((song)=>song.song_path!==this.props.location.pathname)[index].song_path\r\n        }\r\n        return options[Math.floor(Math.random() * options.length)]\r\n    }\r\n\r\n    loadRandomSong() {\r\n        if(this.props.playlist.contents.length===0) return;\r\n        let history = [...this.state.history];\r\n        history.push(this.props.location.pathname)\r\n        this.setState({ history }, ()=>{ window.location.href = \"/#\" + this.getRandomSong()})\r\n    }\r\n\r\n    render(){\r\n        return (\r\n            <div id=\"playlist\">\r\n                <div id=\"heading\">\r\n                    <input id=\"playlist_title\" onChange={this.updateTitle} value={this.props.playlist.name} title=\"Name your playlist\"/>\r\n                    <div id=\"toolbar\">\r\n                        <Shuffle title=\"Load random song\" className={\"button\" + (this.props.playlist.contents.length === 0 ? \" disabled\": \"\")} onClick={this.loadRandomSong}/>\r\n                        <Clear title=\"Clear playlist\" className={\"button\" + (this.props.playlist.contents.length === 0 ? \" disabled\": \"\")} onClick={this.clearPlaylist}/>\r\n                        <Save title=\"Save playlist\" className={\"button\" + (this.props.playlist.contents.length === 0 ? \" disabled\": \"\")} onClick={this.saveToFile}/>\r\n                        {<Upload title=\"Load a saved playlist\" className=\"button\" onClick={()=> {document.getElementById('fileinput').click()}}/>}\r\n                        <input type=\"file\" id=\"fileinput\" onChange={(event)=>{this.loadFile(event)}}/>\r\n                    </div>\r\n                </div>\r\n                <div id=\"search_results\">\r\n                    {this.props.playlist.contents.length > 0 ? this.props.playlist.contents.map((result, index)=>\r\n                        <div className=\"result\" key={result.song_path}>\r\n                            <div className=\"info\">\r\n                                <img src={result.image} alt=\"\"/>\r\n                                <div className=\"text\">\r\n                                    <a className=\"song\" title=\"Play this song\" href={\"/#\" +result.song_path}>{result.title}</a> \r\n                                    <div className=\"artist\" title=\"View more from this artist\" onClick={() => this.props.getArtist(result.artist)}><i>{result.artist.name}</i></div>\r\n                                </div>\r\n                            </div>\r\n                            <Remove title=\"Add to playlist\" className=\"button\" onClick={()=>{this.props.removeSong(index)}}/>\r\n                        </div>\r\n                    ) : <div id=\"alt\">Search for songs to add to your playlist!</div>}\r\n                </div>\r\n                <div id=\"playlist_length\">{this.props.playlist.contents.length} song{this.props.playlist.contents.length === 1 ? '' : 's'}</div>\r\n            </div>\r\n        );\r\n    \r\n    }\r\n} export default Playlist;","import React, {Component} from 'react'\r\nimport \"../styles/Artist.scss\"\r\n\r\nimport { FaPlusSquare as Add, FaCheckSquare as Check} from 'react-icons/fa'\r\nimport { token } from '../resources/genius_token'\r\n\r\nclass Artist extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            songs: [],\r\n            page: 1,\r\n            loading: true\r\n        }\r\n        this.getSongs = this.getSongs.bind(this)\r\n        this.cleanUp = this.cleanUp.bind(this)\r\n    }\r\n\r\n    componentDidMount() {\r\n        if(this.props.artist === undefined || this.state.songs.length !== 0) return\r\n        else {\r\n            console.log(\"get artist songs\")\r\n            this.getArtistSongs();\r\n        }\r\n    }\r\n\r\n    getArtistSongs() {\r\n        // if(page===null) {\r\n        //     this.setState({loading: false})\r\n        //     return;\r\n        // }\r\n        this.setState({loading: true})\r\n        const getSongs = this.getSongs\r\n        var request = new XMLHttpRequest();\r\n        request.open('GET', 'https://api.genius.com/artists/' + this.props.artist.id + '/songs?per_page=15&page=' + this.state.page + '&access_token=' + token, true);\r\n        request.onreadystatechange = () => {\r\n            if (request.readyState === 4 && request.status === 200) {\r\n                var type = request.getResponseHeader('Content-Type');\r\n                if (type.indexOf(\"text\") !== 1) {\r\n                    getSongs(JSON.parse(request.responseText).response)\r\n                }\r\n            }\r\n        }\r\n        request.send();\r\n    }\r\n\r\n    getSongs(response) {\r\n        console.log(response)\r\n        var results = response.songs.map((hit) => { return {title: hit.title, artist: {name: hit.primary_artist.name, id: hit.primary_artist.id}, lyrics_path: hit.path, song_path: hit.api_path, image: hit.song_art_image_url}})\r\n        this.setState({songs: results, loading: false, nextPage: response.next_page})\r\n    }\r\n\r\n    cleanUp(e) {\r\n        console.log(e)\r\n        this.setState({songs: []}, this.props.getArtist)\r\n    }\r\n    \r\n    setPage(page) {\r\n        if(page === this.state.page || page < 1 || (page > this.state.page && !this.state.nextPage)) return;\r\n        this.setState({page: page}, this.getArtistSongs)\r\n    }\r\n\r\n    stopPropagation(e) {\r\n        e.stopPropagation()\r\n    }\r\n\r\n    render(){\r\n        \r\n        return ( \r\n            <div id=\"modal\" onClick={this.cleanUp}>\r\n                <div id=\"body\" onClick={this.stopPropagation}>\r\n                    <div>\r\n                        <div id=\"title\">{this.props.artist.name}</div>\r\n                        <div id=\"songs\">\r\n                            {this.state.loading \r\n                                ? <div id=\"loading\">Loading...</div> \r\n                                : this.state.songs.map((result) => \r\n                                <div className=\"result\" key={result.song_path}>\r\n                                    <div className=\"info\">\r\n                                        <img src={result.image} alt=\"\"/>\r\n                                        <div className=\"text\">\r\n                                            <a className=\"song\" title=\"Play this song\" href={\"/#\" +result.song_path}>{result.title}</a> \r\n                                            <i>{result.artist.name}</i>\r\n                                        </div>\r\n                                    </div>\r\n                                    {this.props.songInPlaylist(result) \r\n                                        ? <Check className=\"static\" title=\"Already in playlist\"/>\r\n                                        : <Add  className=\"button\" title=\"Add to playlist\" onClick={()=>this.props.addSong(result)}/>}\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                        <div id=\"pagination\">\r\n                            <div className=\"link\" onClick={()=>this.setPage(1)}>First</div>\r\n                            <div className={\"link \" + (this.state.page===1 ? \"disabled\" : \"\")} onClick={()=>this.setPage(this.state.page-1)}> {\"<<\"} Previous</div>\r\n                            <div>{this.state.page}</div>\r\n                            <div className={\"link \" + (!this.state.nextPage ? \"disabled\" : \"\")} onClick={()=>this.setPage(this.state.page+1)}> Next {\">>\"}</div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n} export default Artist;","import React, {Component} from 'react'\r\nimport {FaInfo as About, FaQuestion as FAQ, FaCog as Settings, FaGithub as Github} from 'react-icons/fa'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport FormLabel from '@material-ui/core/FormLabel';\r\n\r\nimport Switch from '@material-ui/core/Switch';\r\n\r\nimport { Input } from 'reactstrap'\r\nimport \"../styles/Home.scss\"\r\nimport { withStyles } from '@material-ui/core';\r\n\r\nclass Home extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            page: 0\r\n        }\r\n    }\r\n   \r\n    setPage(id) {\r\n        this.setState({page: id})\r\n    }\r\n\r\n    getBody() {\r\n        switch(this.state.page){\r\n            case 0 : return this.about()\r\n            case 1 : return this.faq()\r\n            case 2 : return this.settings()\r\n        }\r\n    }\r\n\r\n    about() {\r\n        return (\r\n            <div className=\"home_body\">\r\n                <div className=\"title\" title=\"About\">About</div>\r\n                <div className=\"about\">\r\n                    <i>Versed</i> is a lyrics guessing game inspired by a trend on Sporcle \r\n                    where users create song quizzes without naming the song title, sometimes \r\n                    giving an album or artist, and ask the player to figure out the song by guessing common words \r\n                    to reveal lyrics as you go. In this version, songs are available via the Genius API and can \r\n                    be randomized from customizable playlists.\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    faq() {\r\n        return (\r\n            <div className=\"home_body\">\r\n                <div className=\"title\" title=\"Frequently Asked Questions\">Frequently Asked Questions</div>\r\n                <div className=\"faq\">\r\n                    <ul>\r\n                        <li><b>The lyrics in a song I was playing don't seem quite right!</b></li>\r\n                        <p>\r\n                            The lyrics for all songs available on <i>Versed</i> come from the <a href=\"https://genius.com\">Genius</a> API. \r\n                            If the lyrics are wrong on Genius, they will be wrong in the game. You can help fix mistakes by suggesting \r\n                            corrections on the Genius page for the song you noticed a problem in. \r\n                            <br/><br/>\r\n                            Sometimes, you may notice something strange that isn't caused by the lyrics' source. If you find a song with odd\r\n                            characters, blank words, or anything else out of place, please <a href=\"https://github.com/amrictor/versed/issues\">submit a bug</a> by \r\n                            creating an issue with the \"bug\" tag and describing the problem you've found. Please include a link to the\r\n                            song where you noticed the problem.\r\n                        </p>\r\n                        <li><b>Can you add <i>X</i> feature?</b></li>\r\n                        <p>\r\n                            Maybe! If you have ideas for how <i>Versed</i> could work better, please <a href=\"https://github.com/amrictor/versed/issues\">create a feature request</a> by \r\n                            creating an issue with the \"feature request\" tag and describing what you think would make <i>Versed</i> a better experience for you.\r\n                        </p>\r\n                        <li><b>I want to search by albums!</b></li>\r\n                        <p>\r\n                            Currently this is not a feature I'm pursuing, as the <a href=\"https://genius.com\">Genius</a> API does not \r\n                            include an endpoint for searching albums specifically.\r\n                        </p>\r\n                        <li><b>I don't want to spend more time making playlists than playing the game! Where can I find playlists that other people have made?</b></li>\r\n                        <p>\r\n                            I've set up <a href=\"https://github.com/amrictor/versed-playlists\">a Github</a> for people to create playlists and share them in. Anyone \r\n                            can add a playlist and request to merge it into the master version of the repository.\r\n                        </p>\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n\r\n\r\n    settings() {\r\n\r\n        // const StyledSwitch = withStyles({\r\n        //     root: {\r\n        //         '&$'\r\n        //     }\r\n            \r\n        // })(Switch) \r\n\r\n        // const StyledLabel = withStyles({\r\n\r\n        // })(FormLabel)\r\n\r\n        return (\r\n            <div className=\"home_body\">\r\n                <div className=\"title\" title=\"Settings\">Settings</div>\r\n                <div className=\"settings\">\r\n                    {/* Soon, <i>Versed</i> will have some cool new configuration options that will live here! */}\r\n                    {/* <Input type=\"checkbox\" value={this.props.settings.playOnLoad} aria-label=\"Play game on page load.\" /> Play game on page load. */}\r\n                    <FormControlLabel\r\n                        control={\r\n                        <Switch\r\n                            checked={!this.props.settings.playOnLoad}\r\n                            onChange={(evt) => this.props.updateSettings({...this.props.settings, playOnLoad: !evt.target.checked})}\r\n                            color='default'\r\n                        />\r\n                        }\r\n                        label=\"Pause game on page load.\"\r\n                    />\r\n                    <br/><br/>\r\n                    <Input type=\"search\" placeholder=\"Seed\" value={this.props.settings.seed} onChange={(evt) => this.props.updateSettings({...this.props.settings, seed: evt.target.value})} />\r\n                    <div>\r\n                        Randomization seed; set to any sequence of characters. If you and a friend set this to the same value and use the same playlist, you'll get the same songs in the same seemingly random order. \r\n                    </div>\r\n                    \r\n\r\n                    {/* <Input type=\"number\" value={this.props.settings.seed} aria-label=\"Randomization seed. If you and a friend set this to the same value and use the same playlist, you'll get the same songs in the same order.\" /> Randomization seed. If you and a friend set this to the same value and use the same playlist, you'll get the same songs in the same order. */}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        return (  \r\n            <div id=\"home\">\r\n                <div id=\"head\">\r\n                    <div className=\"big\" title=\"Versed\">\r\n                        <b>Versed</b>\r\n                    </div>\r\n                    <div>\r\n                        <i>How well do you know your favorite songs? Start by \r\n                        expanding the sidebar and searching for a song to play. \r\n                        Add songs to a playlist and randomize if you like a challenge.</i>\r\n                    </div>\r\n                </div>\r\n                <div id=\"nav\">\r\n                    <About title=\"About\" className={this.state.page===0 ? \"active\" : \"\"} onClick={()=>this.setPage(0)}/>\r\n                    <FAQ title=\"Frequently asked questions\" className={this.state.page===1 ? \"active\" : \"\"} onClick={()=>this.setPage(1)}/>\r\n                    <Settings title=\"Settings\" className={this.state.page===2 ? \"active\" : \"\"} onClick={()=>this.setPage(2)}/>\r\n                    <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://github.com/amrictor/versed\"><Github title=\"View source code\"/></a>\r\n                </div>\r\n                {this.getBody()}\r\n            </div>\r\n                \r\n        );\r\n    \r\n    }\r\n} export default Home;","import React, {Component} from 'react'\r\nimport { Switch, Route, withRouter } from \"react-router-dom\";\r\nimport Song from './Song'\r\nimport \"../styles/Game.scss\"\r\nimport Sidebar from './Sidebar'\r\nimport Search from './Search'\r\nimport Playlist from './Playlist'\r\nimport Artist from './Artist'\r\nimport Home from './Home'\r\n\r\n\r\nclass Game extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            playlist: {name: \"My Playlist\", contents: []},\r\n            settings: {\r\n                playOnLoad: false,\r\n                seed: '',\r\n            },\r\n        }\r\n        this.addSong = this.addSong.bind(this)\r\n        this.removeSong = this.removeSong.bind(this)\r\n        this.updatePlaylist = this.updatePlaylist.bind(this)\r\n        this.songInPlaylist = this.songInPlaylist.bind(this)\r\n        this.getArtist = this.getArtist.bind(this)\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.checkCookie();\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        console.log(this.state)\r\n    }\r\n\r\n    setCookie(name, value, exdays=0) {\r\n        var d = new Date();\r\n        d.setTime(d.getTime() + (exdays * 24 * 60 * 60 * 1000));\r\n        var expires = (exdays===0) ? \"\" : \"expires=\"+d.toUTCString() + \";path=/\";\r\n        document.cookie = name + \"=\" + JSON.stringify(value) + \";\" + expires;\r\n    }\r\n\r\n    getCookie(cname) {\r\n        let name = cname + \"=\";\r\n        let ca = document.cookie.split(';');\r\n        for(let i = 0; i < ca.length; i++) {\r\n            let c = ca[i];\r\n            while (c.charAt(0) === ' ') {\r\n                c = c.substring(1);\r\n            }\r\n            if (c.indexOf(name) === 0) {\r\n                return c.substring(name.length, c.length);\r\n            }\r\n        }\r\n        return \"\";\r\n    }\r\n\r\n    checkCookie() {\r\n        let playlist_str = this.getCookie(\"playlist\");\r\n        if (playlist_str !== \"\") {\r\n            let playlist = JSON.parse(playlist_str);\r\n            if(!playlist.contents) this.updatePlaylist(playlist.name, []);\r\n            else this.updatePlaylist(playlist.name, playlist.contents);\r\n        }\r\n        let settings_str = this.getCookie(\"settings\");\r\n        if (settings_str !== \"\") {\r\n            let settings = JSON.parse(settings_str);\r\n            this.updateSettings(settings);\r\n        }\r\n        let token = this.getCookie(\"token\");\r\n        if (!token) this.authorizeSpotify();\r\n    }\r\n\r\n    authorizeSpotify(callback) {\r\n        var request = new XMLHttpRequest();\r\n        request.open('POST', 'https://accounts.spotify.com/api/token');\r\n        request.setRequestHeader('Authorization', 'Basic eb9ff487a6e442df8a342e0f0710909f:b505d00d61654a32b0941c467cb6873d')\r\n        let contentType = \"application/json;charset=utf-8;\";\r\n        request.onreadystatechange = () => {\r\n            if (request.readyState === 4 && request.status === 200) {\r\n                // var type = request.getResponseHeader('Content-Type');\r\n                console.log(request.response())\r\n                // if (type.indexOf(\"text\") !== 1) {\r\n                //     console.log(JSON.parse(request.responseText))\r\n                //     callback(JSON.parse(request.responseText))\r\n                // }\r\n            }\r\n        }\r\n        request.send(JSON.stringify({grant_type: 'client_credentials'}));\r\n    }\r\n\r\n    getArtist(artist) {\r\n        this.setState({ artist: artist}, ()=> console.log(this.state.artist))\r\n    }\r\n\r\n    songInPlaylist(song) {\r\n        return this.state.playlist.contents.map((s)=>JSON.stringify(s)).includes(JSON.stringify(song))\r\n    }\r\n\r\n    updatePlaylist(name, contents) {\r\n        this.setState({playlist: {name: name, contents: contents}}, () => this.setCookie(\"playlist\", this.state.playlist))\r\n    }\r\n\r\n    addSong(song) {\r\n        if(this.songInPlaylist(song)) return;\r\n        var contents = this.state.playlist.contents;\r\n        contents.push(song);\r\n        this.updatePlaylist(this.state.playlist.name, contents);\r\n    }\r\n\r\n    removeSong(index) {\r\n        var contents = this.state.playlist.contents;\r\n        contents.splice(index, 1);\r\n        this.updatePlaylist(this.state.playlist.name, contents);\r\n    }\r\n\r\n    updateSettings = (newSettings) => {\r\n        this.setState({settings: newSettings}, () => this.setCookie(\"settings\", this.state.settings))\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div id=\"game\">\r\n                <Sidebar title={<div id=\"apptitle\" onClick={()=>{window.location.href=\"/#/\"; window.location.reload()}} title=\"a lyric guessing game\">Versed</div>}>\r\n                    <Search addSong={this.addSong} songInPlaylist={this.songInPlaylist} getArtist={this.getArtist}/>\r\n                    <Playlist \r\n                        playlist={this.state.playlist} \r\n                        removeSong={this.removeSong} \r\n                        updatePlaylist={this.updatePlaylist} \r\n                        location={this.props.location} \r\n                        getArtist={this.getArtist}\r\n                        seed={this.state.settings.seed}\r\n                    />\r\n                </Sidebar>\r\n                {this.state.artist!==undefined && <Artist artist={this.state.artist} getArtist={this.getArtist} addSong={this.addSong} songInPlaylist={this.songInPlaylist} />}\r\n                <Switch>\r\n                    <Route\r\n                        exact\r\n                        path=\"/\"\r\n                        render={(props) => <Home {...props} settings={this.state.settings} updateSettings={this.updateSettings}/>}\r\n                    />\r\n                    <Route\r\n                        path=\"/songs/:genius_id\"\r\n                        render={(props) => <Song {...props} playOnLoad={this.state.settings.playOnLoad}/>}\r\n                    />\r\n                </Switch> \r\n            </div>\r\n        );\r\n    \r\n    }\r\n} export default withRouter(Game);","import React from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nconst GA_TRACKING_ID = 'UA-156167962-1';\r\n\r\nclass GoogleAnalytics extends React.Component {\r\n  componentWillUpdate ({ location, history }) {\r\n    const gtag = window.gtag;\r\n    if (location.pathname === this.props.location.pathname) {\r\n        // don't log identical link clicks (nav links likely)\r\n        return;\r\n    }\r\n    if (typeof(gtag) === 'function') {\r\n      gtag('config', GA_TRACKING_ID, {\r\n        'page_title': document.title,\r\n        'page_location': window.location.href,\r\n        'page_path': location.pathname\r\n      });\r\n    }\r\n  }\r\n\r\n  render () {\r\n    return null;\r\n  }\r\n}\r\n\r\nexport default withRouter(GoogleAnalytics);","import React from 'react';\nimport Game from './components/Game'\nimport './App.css';\nimport GoogleAnalytics from './components/GoogleAnalytics';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n        <Game/>\n        <GoogleAnalytics/>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { HashRouter as Router } from \"react-router-dom\";\n\n\nReactDOM.render(\n    <Router>\n        <App />\n    </Router>, document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}